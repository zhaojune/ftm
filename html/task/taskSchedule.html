<div style="border-bottom: 1px solid #99BBE8;height: 2%;padding: 20px;">
    <span style="font-size: 20px;">任务进度</span>
</div>

<div>
    <table style="padding-top: 20px;padding-left:40px;font-size: 18px;height: 80%" cellspacing="0">
        <tr style="height: 50px;">
            <td>
                <span>任务类型:</span>
            </td>
            <td style="padding-left: 50px;">
                <span id="scheduleTaskType">下载SOK图片</span>
            </td>
            <td id="irs_title">
                <span>更新后是否重启终端:</span>
            </td>
            <td id="irs_content" style="padding-left: 50px;">
                <span id="scheduleIfRestart">否</span>
            </td>
        </tr>
        <tr style="height: 50px;">
            <td>
                <span>任务名称:</span>
            </td>
            <td style="padding-left: 50px;">
                <span id="scheduleTaskName">更新SOK终端图片信息</span>
            </td>
        </tr>
        <tr style="height: 50px;">
            <td>
                <span>开始时间:</span>
            </td>
            <td style="padding-left: 50px;">
                <span id="scheduleStartName">2017.8.1</span>
            </td>
            <td>
                <span>结束时间:</span>
            </td>
            <td style="padding-left: 50px;">
                <span id="scheduleEndTime">2017.9.1</span>
            </td>
        </tr>
        <tr style="height: 50px;">
            <td>
                <span>执行策略:</span>
            </td>
            <td style="padding-left: 50px;">
                <span id="scheduleStrategy">只执行一次</span>
            </td>
        </tr>
        <tr style="height: 50px;">
            <td>
                <span>更新文件:</span>
            </td>
            <td style="padding-left: 50px;">
                <span id="scheduleUpdateFile">文件名称1</span>
            </td>
        </tr>
        <tr style="height: 50px;">
            <td>
                <span>任务进度:</span>
            </td>
            <td style="padding-left: 50px;">
                <div id="schedulePbar" class="easyui-progressbar" data-options="value:80,text:'已完成80%'" style="width:400px;"></div>
            </td>
        </tr>
        <tr style="height: 50px;">
            <td>
                <span>完成终端:</span>
            </td>
        </tr>
    </table>

    <div class="easyui-tabs" id="resultTabs" style="width:100%;height: 3%;">
        <div title="已完成" >

        </div>
        <div title="未完成" >

        </div>
        <div title="更新失败" >

        </div>
    </div>


    <table id="schedule_list_data"   cellspacing="0" toolbar="#sch_tb" cellpadding="0" border="false" style="height:50%;width: 100%;" >
        <thead>
        <tr>
            <th field="terminalName" width="10%" align="center">终端名称</th>
            <th field="terminalNo" width="10%" align="center">终端编号</th>
            <th field="terminalType" width="10%" align="center">终端类型</th>
            <th field="stores" width="10%" align="center">所属门店</th>
            <th field="partionCompanies" width="10%" align="center">所属分公司</th>
            <th field="np6" width="10%" align="center">NP6</th>
            <th field="np6App" width="10%" align="center">NP6 APP</th>
            <th field="sokPic" width="10%" align="center">SOK图片</th>
            <th field="ownSoftware" width="10%" align="center">自有软件</th>
            <th field="keyPos" width="10%" align="center">键位</th>
            <th field="failLog" width="10%" align="center">失败说明</th>

        </tr>
        </thead>

        <!--样例输入-->
        <tbody>
        <tr>
            <td>SOK1</td>
            <td>WJC001</td>
            <td>SOK</td>
            <td>五角场店</td>
            <td>上海分公司</td>
            <td>v1.0</td>
            <td>v1.0</td>
            <td>v1.0</td>
            <td>v1.0</td>
            <td>v1.0</td>
            <td>2017-5-1失败</td>
        </tr>
        </tbody>
        <!--<结束>-->
    </table>
    <div id="sch_tb" style="padding-left:10px;padding-top:20px;padding-bottom:10px;font-size: 15px;">
        <div style="height: 50%;">
            <label style="padding-left:10px;width: 20%;">
                <input id="schedulePartionCompany_select" class="easyui-combobox" data-options="prompt:'选择分公司'" style="font-size: 15px;color:gainsboro;width: 150px;height: 30px;"/>
            </label>
            <label style="padding-left:10px;width: 20%;">
                <input id="scheduleStore_select" class="easyui-combobox" data-options="prompt:'选择门店'" style="font-size: 15px;color:gainsboro;width: 150px;height: 30px;"/>
            </label>
            <label style="padding-left:10px;width: 20%;">
                <input id="scheduleTerminalType_select" class="easyui-combobox" data-options="prompt:'选择终端类型'" style="font-size: 15px;color:gainsboro;width: 150px;height: 30px;"/>
            </label>

            <label style="padding-left:10px;width: 20%;">
                <input id="scheduleTerminalName_input" class="easyui-textbox" data-options="prompt:'输入终端名称'" style="border:1px solid #b7d2ff;color:gainsboro;width: 150px;height: 30px;"/>
            </label>

            <label style="padding-left:10px;width: 20%;">
                <input id="scheduleTerminalNo_input" class="easyui-textbox" data-options="prompt:'输入终端编号'" style="border:1px solid #b7d2ff;color:gainsboro;width: 150px;height: 30px;"/>
            </label>

            <label style="padding-left:10px;">
                <a style="background: #99BBE8;height:35px;width: 100px;;color: black;" href="#" class="easyui-linkbutton" plain="true" onclick="doSearch()">搜索</a>
            </label>

        </div>
    </div>



</div>
<div align="center" style="padding-top: 20px;">
    <input type="button" id="schedule_back" value="返回" style="border:none;font-size: 20px;background: #99BBE8;width: 150px;"onclick="Back('任务进度')"/>
</div>

<script>



        $('#schedule_list_data').datagrid({
            fitColumns:true,
            nowrap: false,
            striped: true,
            border: true,
            collapsible:false,//是否可折叠的
            fit: true,//自动大小
            remoteSort:false,
            idField:'fldId',
            singleSelect:false,//是否单选
            pagination:true,//分页控件
            rownumbers:false//行号
        });

        var sld = $('#schedule_list_data').datagrid('getPager');
        $(sld).pagination({
            pageSize: 10,
            pageList: [5,10,15],
            beforePageText: '',
            afterPageText: '',
            displayMsg: '共 {total} 条记录'
        });

        let count = true;

        $('#resultTabs').tabs({
            onSelect:function(title){
                if(title !== '更新失败'){
                    $("#schedule_list_data").datagrid('hideColumn', 'failLog');
                }
                else{
                    $("#schedule_list_data").datagrid('showColumn', 'failLog');
                }
            }
        })
</script>


